# Copilot Context – Modular Monolith Backend

## System Overview
This repository implements a **Modular Monolith backend system** using **Clean Architecture**.

The goal is to build scalable enterprise systems with:
- Clear business boundaries
- Strong domain logic
- Long-term maintainability

This system is NOT a microservices architecture.

---

## Core Architectural Principles

### 1. Modular Monolith
- The system is deployed as a single application.
- Each module represents a **business capability**.
- Modules are isolated and communicate via explicit contracts.

### 2. Clean Architecture
Dependency direction:
Api → Application → Domain

- Domain is pure business logic.
- Application orchestrates use cases.
- Infrastructure handles persistence and external services.

---

## Hard Rules (DO NOT VIOLATE)

### Module Rules
- Each module lives under:
  /Modules/{ModuleName}

- A module MUST NOT:
  - Reference another module’s Domain or Application directly
  - Access another module’s Infrastructure
  - Share database tables or DbContext

### Communication Rules
- Inter-module communication via:
  - Domain events
  - Application-level interfaces
  - Explicit DTO contracts

### Domain Rules
- Business rules live ONLY in Domain.
- Domain entities enforce invariants internally.
- No anemic domain models.

### Infrastructure Rules
- Infrastructure implements interfaces defined in Application or Domain.
- No business logic inside Infrastructure.

---

## Modular First, Microservice Later
- Modules are designed to be extractable.
- Microservices are considered only when:
  - Independent scaling is required
  - Independent deployment is required
  - Team ownership grows

---

## Development Guidelines
- Prefer simplicity over over-engineering.
- Introduce new patterns ONLY when necessary.
- Code must be explainable in an interview.

---

## How to Use This Context
When generating or refactoring code:
- Always respect the rules above.
- Ask for clarification if a rule seems violated.
- Provide brief comments explaining trade-offs when needed.
